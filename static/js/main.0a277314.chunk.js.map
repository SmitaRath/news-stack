{"version":3,"sources":["HackerNews/styled.js","HackerNews/hnAxios.js","HackerNews/HNewsCard.js","HackerNews/index.js","Header.js","App.js","reportWebVitals.js","index.js"],"names":["Grid","styled","div","cols","min","max","StyledLink","a","attrs","rel","target","hnAxios","axios","create","baseURL","HNewsCard","score","id","useQuery","get","getNewsById","enabled","Boolean","isLoading","isFetching","data","refetch","className","Classes","SKELETON","interactive","style","borderRadius","display","justifyContent","href","url","title","content","large","icon","text","onClick","minimal","rightIcon","round","formatDistanceToNowStrict","time","by","intent","topNews","HackerNews","size","topData","slice","map","Header","textAlign","tagName","queryClient","QueryClient","defaultOptions","queries","retry","refetchOnWindowFocus","App","client","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a277314.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const Grid = styled.div`\r\n  display: grid;\r\n  grid-gap: 20px;\r\n  grid-template-columns: ${({ cols = '1', min = '200px', max = '1fr' }) =>\r\n    `repeat(${cols}, minmax(${min}, ${max}))`};\r\n`\r\nexport const StyledLink = styled.a.attrs(() => ({\r\n  rel: 'noreferrer',\r\n  target: '_blank',\r\n}))`\r\n  line-height: 2;\r\n  word-spacing: 2px;\r\n  overflow-wrap: break-word;\r\n`\r\n","import axios from 'axios'\r\n\r\nexport const hnAxios = axios.create({\r\n  baseURL: 'https://hacker-news.firebaseio.com/v0/',\r\n})\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react'\r\n\r\nimport {\r\n  Button,\r\n  Menu,\r\n  MenuItem,\r\n  Tag,\r\n  Card,\r\n  Classes,\r\n  H5,\r\n} from '@blueprintjs/core'\r\nimport { Popover2 } from '@blueprintjs/popover2'\r\nimport { useQuery } from 'react-query'\r\nimport { formatDistanceToNowStrict } from 'date-fns'\r\n\r\nimport { hnAxios } from './hnAxios'\r\nimport { StyledLink } from './styled'\r\n\r\nconst getIntentByScore = score => {\r\n  if (score > 200 && score < 500) return 'warning'\r\n  else if (score > 500) return 'danger'\r\n  return 'none'\r\n}\r\n\r\nconst getNewsById = id => hnAxios.get(`item/${id}.json`)\r\n\r\nfunction HNewsCard({ id }) {\r\n  const { isLoading, isFetching, data, refetch } = useQuery(\r\n    `hn-${id}`,\r\n    () => getNewsById(id),\r\n    {\r\n      enabled: Boolean(id),\r\n    },\r\n  )\r\n\r\n  if (isLoading || isFetching) {\r\n    return (\r\n      <Card className={Classes.SKELETON} interactive>\r\n        loading..\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card style={{ borderRadius: 10 }} interactive>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <H5>\r\n          <StyledLink href={data.data.url}>{data.data.title}</StyledLink>\r\n        </H5>\r\n        <Popover2\r\n          content={\r\n            <Menu large>\r\n              <MenuItem icon=\"refresh\" text=\"refetch\" onClick={refetch} />\r\n            </Menu>\r\n          }\r\n        >\r\n          <Button icon=\"more\" minimal />\r\n        </Popover2>\r\n      </div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <Tag icon=\"time\" rightIcon=\"user\" interactive round minimal>\r\n          {formatDistanceToNowStrict(data.data.time * 1000)} -{data.data.by}\r\n        </Tag>\r\n        <Tag\r\n          minimal\r\n          round\r\n          icon=\"flame\"\r\n          intent={getIntentByScore(data.data.score)}\r\n        >\r\n          {data.data.score}\r\n        </Tag>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default HNewsCard\r\n","import React from 'react'\r\n\r\nimport { useQuery } from 'react-query'\r\nimport { Spinner } from '@blueprintjs/core'\r\n\r\nimport { Grid } from './styled'\r\nimport { hnAxios } from './hnAxios'\r\nimport NewsCard from './HNewsCard'\r\n\r\nconst topNews = () => hnAxios.get('topstories.json')\r\n\r\nexport default function HackerNews() {\r\n  const { data = [], isLoading } = useQuery(['hn-topstories'], topNews, {})\r\n\r\n  if (isLoading) {\r\n    return <Spinner size={40} />\r\n  }\r\n\r\n  const topData = data.data.slice(0, 50)\r\n\r\n  return (\r\n    <div>\r\n      <Grid>\r\n        {topData.map(id => (\r\n          <NewsCard key={id} id={id} />\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { Text } from '@blueprintjs/core'\n\nfunction Header() {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <Text tagName=\"h1\">NewStack</Text>\n      <hr />\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\r\n\r\nimport 'normalize.css'\r\nimport '@blueprintjs/core/lib/css/blueprint.css'\r\nimport '@blueprintjs/icons/lib/css/blueprint-icons.css'\r\n\r\nimport { Card } from '@blueprintjs/core'\r\nimport { QueryClient, QueryClientProvider } from 'react-query'\r\n\r\nimport HackerNews from './HackerNews'\r\nimport Header from './Header'\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: false,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n})\r\n\r\nfunction App() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Card>\r\n        <Header />\r\n        <HackerNews />\r\n      </Card>\r\n    </QueryClientProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}